story_info {
   intro_text = You are a tree elf, heir to the kingdom. Your father has died unexpectedly and you have been blamed for it! However, you suspect your uncle has framed you for your fatherâ€™s murder. A shaman saves you in the only way he can: trial by ordeal. To prove your innocence you are given a trial by ordeal - the impossible task of uniting the four essential elements together. You must collect 4 jewels from - mountains, caverns, village, and sea.
}

start_at = "clearing"

locations {
  clearing : location "Clearing.";
  plateau : location "Plateau.";
  mountainside : location "Mountainside.";
  valley : location "Valley.";
  copse : location "Copse.";
  treevillage : location "Tree Village.";
  meeting : location "Meeting Place.";
  throne : location "Throne Room.";
  hut : location "Hut.";
  beach : location "Beach.";
  sea : location "Sea.";
  undersea : location "Undersea.";
  octopus : location "Octopus.";
  pigpen : location "Pig Pen.";
  field : location "Farm Field.";
  hall : location "Village Hall.";
  cave : location "Cave Mouth.";
  nest : location "Nest.";
  gathering : location "Gathering Place.";
  butcher : location "Butcher.";
  commons : location "Commons.";
  church : location "Church.";
  chamber : location "Ante-Chamber.";
}

connections {
  from, direction, to = [
    clearing,  west,  valley,
    clearing,  east,  beach,
    clearing,  north,  copse,
    clearing,  south,  field,
    plateau,  south,  mountainside,
    plateau,  west,  nest,
#    mountainside,  north,  plateau,
    mountainside,  south,  valley,
#    valley,  north,  mountainside,
#    valley,  east,  clearing,
    valley,  west,  cave,
    copse,  north,  treevillage,
#    copse,  south,  clearing,
#    treevillage,  south,  copse,
    meeting,  east,   throne,
#    throne,  west,  meeting,
    hut,  south,  beach,
#    beach,  north,  hut,
    beach,  east,  sea,
#    sea,  west,  beach,
    sea,  south,  undersea,
#    undersea,  north,  sea,
    undersea,  south,  octopus,
#    octopus,  north,  undersea,
    pigpen,  south,  butcher,
    pigpen,  west,  field,
#    field,  north,  clearing,
    field,  south,  commons,
#    field,  east,  pigpen,
    hall, southeast,  commons,
    cave,  south,  gathering, 
#    cave,  east,  valley,
    nest,  southeast,  mountainside, 
    gathering,  south, chamber, 
#    gathering,  north,  cave
    butcher,  west,  commons,
#    butcher,  north,  pigpen,
    commons,  west,  church,
    commons,  northeast,  hall,
#    commons,  north,  field,
#    commons,  east,  butcher,
#    church,  east,  commons,
    chamber,  east,  church, 
#    chamber,  north,  gathering, 
  ]
}

objects {
  horn : object "Horn" start_at="clearing";
  choppedwood : object  "Chopped Wood"  start_at="copse";
  crown : object  "Crown"  start_at="throne";
  reed : object  "Reed"  start_at="beach";
  pearl : object  "Pearl"  start_at="octopus";
  lantern : object  "Lantern"  start_at="pigpen";
  marble : object  "Marble Sphere"  start_at="hall";
  rope : object  "Rope"  start_at="cave";
  egg : object  "Egg"  start_at="nest";
  bladder : object  "Bladder"  start_at="butcher";
  robe : object  "Robe"  start_at="church";
  crystal : object  "Crystal"  start_at="chamber";
}

on_command {
  : match "blow horn" {
    : if (is_carried "horn") {
      : print   "It sounds as if a cow is dying.";
      : destroy "horn";
      }
    }
}
